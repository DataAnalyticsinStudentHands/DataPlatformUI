import{D as g}from"./datetime.a1e71b77.js";import{_ as p,u as c,a as u,o as l,c as i,g as e,z as h,ab as y,X as _,ad as f,B as v,F as x,x as D,t as m}from"./index.19bf4f6c.js";const E={data(){return{queryData:[],searchBy:"",eventName:"",eventDate:""}},mounted(){let t=c().token,r={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+"/eventdata/";this.queryData=[],u.get(r,{headers:{token:t}}).then(n=>{this.queryData=n.data},n=>{n&&this.$router.push("/login")}),window.scrollTo(0,0)},methods:{formattedDate(d){return g.fromISO(d).plus({days:1}).toLocaleString()},handleSubmitForm(){let t=c().token,r="";this.searchBy==="Event Name"?r={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+`/eventdata/search/?eventName=${this.eventName}&searchBy=name`:this.searchBy==="Event Date"&&(r={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+`/eventdata/search/?eventDate=${this.eventDate}&searchBy=date`),u.get(r,{headers:{token:t}}).then(n=>{this.queryData=n.data})},clearSearch(){let t=c().token;this.searchBy="",this.eventName="",this.eventDate="";let r={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+"/eventdata/";this.queryData=[],u.get(r,{headers:{token:t}}).then(n=>{this.queryData=n.data})},editEvent(d){this.$router.push({name:"eventdetails",params:{id:d}})}}},b=e("div",null,[e("h1",{class:"font-bold text-4xl text-red-700 tracking-widest text-center mt-10"}," List of Events ")],-1),S={class:"px-10 pt-20"},B={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},k=e("h2",{class:"text-2xl font-bold"},"Search Event By",-1),O={class:"flex flex-col"},w=e("option",{value:"Event Name"},"Event Name",-1),R=e("option",{value:"Event Date"},"Event Date",-1),N=[w,R],V={key:0,class:"flex flex-col"},L={class:"block"},T={key:1,class:"flex flex-col"},U={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},I=e("div",null,null,-1),A=e("div",null,null,-1),F={class:"mt-5 grid-cols-2"},P=e("hr",{class:"mt-10 mb-10"},null,-1),q={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},C=e("div",{class:"ml-10"},[e("h2",{class:"text-2xl font-bold"},"List of Events"),e("h3",{class:"italic"},"Click table row to edit/display an entry")],-1),M={class:"flex flex-col col-span-2"},K={class:"min-w-full shadow-md rounded"},z=e("thead",{class:"bg-gray-50 text-xl"},[e("tr",null,[e("th",{class:"p-4 text-left"},"Event Name"),e("th",{class:"p-4 text-left"},"Event Date"),e("th",{class:"p-4 text-left"},"Event Address")])],-1),X={class:"divide-y divide-gray-300"},j=["onClick"],G={class:"p-2 text-left"},H={class:"p-2 text-left"},J={class:"p-2 text-left"};function Q(d,t,r,n,a,o){return l(),i("main",null,[b,e("div",S,[e("div",B,[k,e("div",O,[h(e("select",{class:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[0]||(t[0]=s=>a.searchBy=s)},N,512),[[y,a.searchBy]])]),a.searchBy==="Event Name"?(l(),i("div",V,[e("label",L,[h(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[1]||(t[1]=s=>a.eventName=s),onKeyup:t[2]||(t[2]=f((...s)=>o.handleSubmitForm&&o.handleSubmitForm(...s),["enter"])),placeholder:"Enter event name"},null,544),[[_,a.eventName]])])])):v("",!0),a.searchBy==="Event Date"?(l(),i("div",T,[h(e("input",{class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",type:"date","onUpdate:modelValue":t[3]||(t[3]=s=>a.eventDate=s),onKeyup:t[4]||(t[4]=f((...s)=>o.handleSubmitForm&&o.handleSubmitForm(...s),["enter"]))},null,544),[[_,a.eventDate]])])):v("",!0)]),e("div",U,[I,A,e("div",F,[e("button",{class:"mr-10 border border-red-700 bg-white text-red-700 rounded",onClick:t[5]||(t[5]=(...s)=>o.clearSearch&&o.clearSearch(...s)),type:"submit"}," Clear Search "),e("button",{class:"bg-red-700 text-white rounded",onClick:t[6]||(t[6]=(...s)=>o.handleSubmitForm&&o.handleSubmitForm(...s)),type:"submit"}," Search Event ")])])]),P,e("div",q,[C,e("div",M,[e("table",K,[z,e("tbody",X,[(l(!0),i(x,null,D(a.queryData,s=>(l(),i("tr",{onClick:W=>o.editEvent(s._id),key:s._id},[e("td",G,m(s.eventName),1),e("td",H,m(o.formattedDate(s.date)),1),e("td",J,m(s.address.line1),1)],8,j))),128))])])])])])}const $=p(E,[["render",Q]]);export{$ as default};
