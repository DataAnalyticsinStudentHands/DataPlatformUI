import{_ as g,a as _,i as c,o as y,I as b,w as e,k as w,b as t,s as i,g as f,t as o,r as n,l as u,S as V,e as k,d as $,v as x,h}from"./index.b63c9539.js";const F={data(){return{userID:"",loading:!1,email:null,rules:[s=>{if(s){if(!/.+@.+/.test(s))return this.$t("Email must be valid")}else return this.$t("Email is required");return!0}]}},methods:{async emailFormSubmit(){if(await this.$refs.emailForm.validate(),!(this.$refs.emailForm.errors.length>0)){this.loading=!0;let r={email:this.email,error:this.error},d="https://node13835-1529618full3.us.reclaim.cloud/backend/userdata/resetPassword";try{const a=await _.put(d,r);a.status===200?(this.userID=a.data.userID,this.token=a.data.token):c.error(this.$t("An error occurred. Please try again."),{position:"top-right",toastClassName:"Toastify__toast--delete"})}catch{c.error(this.$t("An error occurred. Please try again."),{position:"top-right",toastClassName:"Toastify__toast--delete"})}finally{this.loading=!1,this.$router.push({name:"passResetCode",params:{userID:this.userID}})}}},goBackToLogin(){this.$router.push({name:"login"})}}},I={class:"font-bold text-2xl text-red-800 tracking-widest"},C={class:"d-flex justify-center align-center"};function S(s,r,d,a,l,m){return y(),b(w,null,{default:e(()=>[t(n,null,{default:e(()=>[t(i,{cols:"12",class:"pb-0"},{default:e(()=>[f("h2",I,o(s.$t("Password Reset")),1)]),_:1})]),_:1}),t(n,null,{default:e(()=>[t(i,{cols:"12"},{default:e(()=>[u(o(s.$t("Please enter your email. If it exists in our records, you will receive a confirmation code shortly to reset your password.")),1)]),_:1})]),_:1}),t(n,{justify:"center"},{default:e(()=>[t(i,{cols:"12",md:"10"},{default:e(()=>[t(V,null,{default:e(()=>[t(k,{ref:"emailForm",onSubmit:$(m.emailFormSubmit,["prevent"])},{default:e(()=>[t(x,{modelValue:l.email,"onUpdate:modelValue":r[0]||(r[0]=p=>l.email=p),rules:l.rules,label:s.$t("Email:"),class:"mx-auto",style:{width:"100%"}},null,8,["modelValue","rules","label"]),f("div",C,[t(h,{onClick:m.goBackToLogin,class:"mt-3 mr-2"},{default:e(()=>[u(o(s.$t("Back to Login")),1)]),_:1},8,["onClick"]),t(h,{loading:l.loading,type:"submit",class:"mt-3 bg-red-700 text-white rounded"},{default:e(()=>[u(o(s.$t("Submit")),1)]),_:1},8,["loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})}const B=g(F,[["render",S]]);export{B as default};
