import{_ as g,u,a as m,o as a,c as n,g as e,z as c,ab as y,X as h,ad as f,B as p,F as b,x,t as _}from"./index.19bf4f6c.js";const N={data(){return{queryData:[],searchBy:"",firstName:"",lastName:"",phoneNumber:""}},mounted(){let t=u().token,l={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+"/primarydata/";m.get(l,{headers:{token:t}}).then(i=>{this.queryData=i.data},i=>{i&&this.$router.push("/login")}),window.scrollTo(0,0)},methods:{handleSubmitForm(){let t=u().token,l="";this.searchBy==="Client Name"?l={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+`/primarydata/search/?firstName=${this.firstName}&lastName=${this.lastName}&searchBy=name`:this.searchBy==="Client Number"&&(l={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+`/primarydata/search/?phoneNumbers.primaryPhone=${this.phoneNumber}&searchBy=number`),m.get(l,{headers:{token:t}}).then(i=>{this.queryData=i.data})},clearSearch(){let t=u().token;this.searchBy="",this.firstName="",this.lastName="",this.phoneNumber="";let l={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+"/primarydata/";m.get(l,{headers:{token:t}}).then(i=>{this.queryData=i.data})},editClient(d){this.$router.push({name:"updateclient",params:{id:d}})}}},C=e("div",null,[e("h1",{class:"font-bold text-4xl text-red-700 tracking-widest text-center mt-10"}," Find Client ")],-1),v={class:"px-10 pt-20"},S={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},k=e("h2",{class:"text-2xl font-bold"},"Search Client By",-1),B={class:"flex flex-col"},E=e("option",{value:"Client Name"},"Client Name",-1),D=e("option",{value:"Client Number"},"Client Number",-1),w=[E,D],O={key:0,class:"flex flex-col"},R={class:"block"},V={key:1,class:"flex flex-col"},F={class:"block"},U={key:2,class:"flex flex-col"},P={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},L=e("div",null,null,-1),T=e("div",null,null,-1),I={class:"mt-5 grid-cols-2"},A=e("hr",{class:"mt-10 mb-10"},null,-1),M={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},q=e("div",{class:"ml-10"},[e("h2",{class:"text-2xl font-bold"},"List of Clients"),e("h3",{class:"italic"},"Click table row to edit/display an entry")],-1),K={class:"flex flex-col col-span-2"},z={class:"min-w-full shadow-md rounded"},X=e("thead",{class:"bg-gray-50 text-xl"},[e("tr",null,[e("th",{class:"p-4 text-left"},"Name"),e("th",{class:"p-4 text-left"},"Phone number"),e("th",{class:"p-4 text-left"},"City")])],-1),j={class:"divide-y divide-gray-300"},G=["onClick"],H={class:"p-2 text-left"},J={class:"p-2 text-left"};function Q(d,t,l,i,o,r){return a(),n("main",null,[C,e("div",v,[e("div",S,[k,e("div",B,[c(e("select",{class:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[0]||(t[0]=s=>o.searchBy=s)},w,512),[[y,o.searchBy]])]),o.searchBy==="Client Name"?(a(),n("div",O,[e("label",R,[c(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[1]||(t[1]=s=>o.firstName=s),onKeyup:t[2]||(t[2]=f((...s)=>r.handleSubmitForm&&r.handleSubmitForm(...s),["enter"])),placeholder:"Enter first name"},null,544),[[h,o.firstName]])])])):p("",!0),o.searchBy==="Client Name"?(a(),n("div",V,[e("label",F,[c(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[3]||(t[3]=s=>o.lastName=s),onKeyup:t[4]||(t[4]=f((...s)=>r.handleSubmitForm&&r.handleSubmitForm(...s),["enter"])),placeholder:"Enter last name"},null,544),[[h,o.lastName]])])])):p("",!0),o.searchBy==="Client Number"?(a(),n("div",U,[c(e("input",{class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",type:"text","onUpdate:modelValue":t[5]||(t[5]=s=>o.phoneNumber=s),onKeyup:t[6]||(t[6]=f((...s)=>r.handleSubmitForm&&r.handleSubmitForm(...s),["enter"])),placeholder:"Enter Client Phone Number"},null,544),[[h,o.phoneNumber]])])):p("",!0)]),e("div",P,[L,T,e("div",I,[e("button",{class:"mr-10 border border-red-700 bg-white text-red-700 rounded",onClick:t[7]||(t[7]=(...s)=>r.clearSearch&&r.clearSearch(...s)),type:"submit"}," Clear Search "),e("button",{class:"bg-red-700 text-white rounded",onClick:t[8]||(t[8]=(...s)=>r.handleSubmitForm&&r.handleSubmitForm(...s)),type:"submit"}," Search Client ")])])]),A,e("div",M,[q,e("div",K,[e("table",z,[X,e("tbody",j,[(a(!0),n(b,null,x(o.queryData,s=>(a(),n("tr",{onClick:W=>r.editClient(s._id),key:s._id},[e("td",H,_(s.firstName+" "+s.lastName),1),e("td",J,_(s.phoneNumbers[0]),1)],8,G))),128))])])])])])}const Z=g(N,[["render",Q]]);export{Z as default};
