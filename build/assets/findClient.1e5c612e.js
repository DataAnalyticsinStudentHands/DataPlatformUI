import{_ as y,u,a as m,o as a,c as n,l as e,m as c,v as b,K as h,L as p,n as f,F as _,r as x,t as g}from"./index.06e63598.js";const N={data(){return{queryData:[],searchBy:"",firstName:"",lastName:"",phoneNumber:""}},mounted(){let t=u().token,l="https://cis-4339.herokuapp.com/primarydata/";m.get(l,{headers:{token:t}}).then(i=>{this.queryData=i.data},i=>{i&&this.$router.push("/login")}),window.scrollTo(0,0)},methods:{handleSubmitForm(){let t=u().token,l="";this.searchBy==="Client Name"?l=`https://cis-4339.herokuapp.com/primarydata/search/?firstName=${this.firstName}&lastName=${this.lastName}&searchBy=name`:this.searchBy==="Client Number"&&(l=`https://cis-4339.herokuapp.com/primarydata/search/?phoneNumbers.primaryPhone=${this.phoneNumber}&searchBy=number`),m.get(l,{headers:{token:t}}).then(i=>{this.queryData=i.data})},clearSearch(){let t=u().token;this.searchBy="",this.firstName="",this.lastName="",this.phoneNumber="";let l="https://cis-4339.herokuapp.com/primarydata/";m.get(l,{headers:{token:t}}).then(i=>{this.queryData=i.data})},editClient(d){this.$router.push({name:"updateclient",params:{id:d}})}}},C=e("div",null,[e("h1",{class:"font-bold text-4xl text-red-700 tracking-widest text-center mt-10"}," Find Client ")],-1),k={class:"px-10 pt-20"},v={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},S=e("h2",{class:"text-2xl font-bold"},"Search Client By",-1),w={class:"flex flex-col"},B=e("option",{value:"Client Name"},"Client Name",-1),F=e("option",{value:"Client Number"},"Client Number",-1),U=[B,F],D={key:0,class:"flex flex-col"},L={class:"block"},V={key:1,class:"flex flex-col"},q={class:"block"},K={key:2,class:"flex flex-col"},E={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},P=e("div",null,null,-1),R=e("div",null,null,-1),M={class:"mt-5 grid-cols-2"},T=e("hr",{class:"mt-10 mb-10"},null,-1),I={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},j=e("div",{class:"ml-10"},[e("h2",{class:"text-2xl font-bold"},"List of Clients"),e("h3",{class:"italic"},"Click table row to edit/display an entry")],-1),z={class:"flex flex-col col-span-2"},A={class:"min-w-full shadow-md rounded"},G=e("thead",{class:"bg-gray-50 text-xl"},[e("tr",null,[e("th",{class:"p-4 text-left"},"Name"),e("th",{class:"p-4 text-left"},"Phone number"),e("th",{class:"p-4 text-left"},"City")])],-1),H={class:"divide-y divide-gray-300"},J=["onClick"],O={class:"p-2 text-left"},Q={class:"p-2 text-left"};function W(d,t,l,i,o,r){return a(),n("main",null,[C,e("div",k,[e("div",v,[S,e("div",w,[c(e("select",{class:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[0]||(t[0]=s=>o.searchBy=s)},U,512),[[b,o.searchBy]])]),o.searchBy==="Client Name"?(a(),n("div",D,[e("label",L,[c(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[1]||(t[1]=s=>o.firstName=s),onKeyup:t[2]||(t[2]=p((...s)=>r.handleSubmitForm&&r.handleSubmitForm(...s),["enter"])),placeholder:"Enter first name"},null,544),[[h,o.firstName]])])])):f("",!0),o.searchBy==="Client Name"?(a(),n("div",V,[e("label",q,[c(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[3]||(t[3]=s=>o.lastName=s),onKeyup:t[4]||(t[4]=p((...s)=>r.handleSubmitForm&&r.handleSubmitForm(...s),["enter"])),placeholder:"Enter last name"},null,544),[[h,o.lastName]])])])):f("",!0),o.searchBy==="Client Number"?(a(),n("div",K,[c(e("input",{class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",type:"text","onUpdate:modelValue":t[5]||(t[5]=s=>o.phoneNumber=s),onKeyup:t[6]||(t[6]=p((...s)=>r.handleSubmitForm&&r.handleSubmitForm(...s),["enter"])),placeholder:"Enter Client Phone Number"},null,544),[[h,o.phoneNumber]])])):f("",!0)]),e("div",E,[P,R,e("div",M,[e("button",{class:"mr-10 border border-red-700 bg-white text-red-700 rounded",onClick:t[7]||(t[7]=(...s)=>r.clearSearch&&r.clearSearch(...s)),type:"submit"}," Clear Search "),e("button",{class:"bg-red-700 text-white rounded",onClick:t[8]||(t[8]=(...s)=>r.handleSubmitForm&&r.handleSubmitForm(...s)),type:"submit"}," Search Client ")])])]),T,e("div",I,[j,e("div",z,[e("table",A,[G,e("tbody",H,[(a(!0),n(_,null,x(o.queryData,s=>(a(),n("tr",{onClick:X=>r.editClient(s._id),key:s._id},[e("td",O,g(s.firstName+" "+s.lastName),1),e("td",Q,g(s.phoneNumbers[0]),1)],8,J))),128))])])])])])}const Z=y(N,[["render",W]]);export{Z as default};
