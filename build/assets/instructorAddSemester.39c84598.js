import{_ as b,u as f,a as x,o as d,c as m,b as s,w as o,d as D,e as E,V as k,r as _,s as c,v as p,al as y,g as r,F as N,x as C,z as v,af as w,t as h,B as M,h as S,l as g}from"./index.b63c9539.js";const F={data(){return{semester:{semesterName:"",semesterStartDate:"",semesterEndDate:""},experiences:[],selectedExperiences:[],errorMessage:""}},beforeMount(){window.scrollTo(0,0),this.fetchExperienceData()},methods:{fetchExperienceData(){let e=f().token,n="https://node13835-1529618full3.us.reclaim.cloud/backend/instructorSideData/experiences/";x.get(n,{headers:{token:e}}).then(l=>{const t=l.data;this.experiences=t.filter(i=>i.experienceStatus===!0)}).catch(l=>{this.handleError(l)})},handleSubmitForm(){if(!this.semester.semesterName||!this.semester.semesterStartDate||!this.semester.semesterEndDate){this.errorMessage="Please fill in all fields.";return}let e=f().token,n="https://node13835-1529618full3.us.reclaim.cloud/backend/instructorSideData/semesters/";x.post(n,{semesterName:this.semester.semesterName,semesterStartDate:this.semester.semesterStartDate,semesterEndDate:this.semester.semesterEndDate,experiences:this.selectedExperiences},{headers:{token:e}}).then(()=>{this.$router.push({name:"instructorSemesters",params:{toastType:"success",toastMessage:"Semester added!",toastPosition:"top-right",toastCSS:"Toastify__toast--create"}})}).catch(l=>{l.response&&l.response.data&&l.response.data.error?this.errorMessage=l.response.data.error:this.handleError(l)})}}},U=r("p",{class:"font-weight-black text-h6"},"New Semester",-1),T=r("br",null,null,-1),B=r("thead",null,[r("tr",null,[r("th",{class:"text-left"}),r("th",{class:"text-left"},"Experience Category"),r("th",{class:"text-left"},"Experience Name")])],-1),L={class:"text-left"},R=["value"],A={class:"text-left"},P={class:"text-left"},z={key:0,class:"error-message"};function I(u,e,n,l,t,i){return d(),m("main",null,[s(E,{onSubmit:D(i.handleSubmitForm,["prevent"])},{default:o(()=>[s(k,null,{default:o(()=>[U,T,s(_,null,{default:o(()=>[s(c,{cols:"12",md:"6"},{default:o(()=>[s(p,{modelValue:t.semester.semesterName,"onUpdate:modelValue":e[0]||(e[0]=a=>t.semester.semesterName=a),label:"Semester Name"},null,8,["modelValue"])]),_:1})]),_:1}),s(_,null,{default:o(()=>[s(c,{cols:"12",md:"6"},{default:o(()=>[s(p,{type:"date",modelValue:t.semester.semesterStartDate,"onUpdate:modelValue":e[1]||(e[1]=a=>t.semester.semesterStartDate=a),label:"Semester Start Date"},null,8,["modelValue"])]),_:1}),s(c,{cols:"12",md:"6"},{default:o(()=>[s(p,{type:"date",modelValue:t.semester.semesterEndDate,"onUpdate:modelValue":e[2]||(e[2]=a=>t.semester.semesterEndDate=a),label:"Semester End Date"},null,8,["modelValue"])]),_:1})]),_:1}),s(y,{style:{width:"80%"}},{default:o(()=>[B,r("tbody",null,[(d(!0),m(N,null,C(t.experiences,a=>(d(),m("tr",{key:a._id},[r("td",L,[v(r("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=V=>t.selectedExperiences=V),value:a._id,style:{outline:"2px solid #808080","margin-right":"10px"}},null,8,R),[[w,t.selectedExperiences]])]),r("td",A,h(a.experienceCategory),1),r("td",P,h(a.experienceName),1)]))),128))])]),_:1}),t.errorMessage?(d(),m("div",z,h(t.errorMessage),1)):M("",!0),s(S,{style:{"text-align":"center"},onClick:i.handleSubmitForm},{default:o(()=>[g("Submit")]),_:1},8,["onClick"]),s(S,{onClick:e[4]||(e[4]=a=>u.$router.back()),style:{"margin-left":"10px"}},{default:o(()=>[g(" Cancel ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])])}const q=b(F,[["render",I]]);export{q as default};
