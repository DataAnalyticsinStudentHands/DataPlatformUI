import{_ as b,u as n,a as g,o as c,c as h,b as e,w as s,V as p,d as N,e as w,M as _,s as i,v as d,D as P,E as V,h as k,l as y,g as f}from"./index.b63c9539.js";const U={data(){return{userData:[],firstName:"",lastName:"",email:"",languagePreference:"",confirmPassword:""}},mounted(){let a=n().token,u="https://node13835-1529618full3.us.reclaim.cloud/backend/userdata/user/";try{n().startLoading(),g.get(u,{headers:{token:a}}).then(o=>{this.userData=o.data.user,this.firstName=this.userData.firstName,this.lastName=this.userData.lastName,this.email=this.userData.email,this.languagePreference=this.userData.languagePreference}).catch(o=>{this.handleError(o)}).finally(()=>{n().stopLoading()}),window.scrollTo(0,0)}catch(o){this.handleError("Error:",o),n().stopLoading()}},computed:{loading(){return n().loading}},methods:{async handleSubmitForm(){const r=n();let a=r.token,u="https://node13835-1529618full3.us.reclaim.cloud/backend/userdata/updateUserData";const o=r.role==="Student"?"studentDashboard":r.role==="Instructor"?"instructorDash":"";g.put(u,{firstName:this.firstName,lastName:this.lastName,email:this.email,languagePreference:this.languagePreference,password:this.confirmPassword},{headers:{token:a}}).then(()=>{r.setLanguagePreference(this.languagePreference),this.$router.push({name:o,params:{toastType:"info",toastMessage:"User Information updated!",toastPosition:"top-right",toastCSS:"Toastify__toast--update"}})}).catch(t=>{this.handleError(t)})}}},D=f("p",{class:"font-weight-black text-h5 text--primary"},"User Information Update Form",-1),S=f("p",{class:"text-subtitle-1"},"Fill out the required details and hit the submit button. Don't worry, you'll be able to edit these detail again.",-1),x={key:0,class:"loading-container"},E={key:1},L=f("p",null,"Please enter your password to confirm your changes:",-1);function F(r,a,u,o,t,m){return c(),h("main",null,[e(p,{style:{width:"90%",margin:"0 auto"}},{default:s(()=>[D,S]),_:1}),m.loading?(c(),h("div",x,[e(_,{indeterminate:""})])):(c(),h("div",E,[e(w,{onSubmit:N(m.handleSubmitForm,["prevent"])},{default:s(()=>[e(p,{style:{width:"90%",margin:"0 auto"}},{default:s(()=>[e(i,{cols:"12",md:"6"},{default:s(()=>[e(d,{modelValue:t.firstName,"onUpdate:modelValue":a[0]||(a[0]=l=>t.firstName=l),label:"New First Name"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:s(()=>[e(d,{modelValue:t.lastName,"onUpdate:modelValue":a[1]||(a[1]=l=>t.lastName=l),label:"New Last Name"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:s(()=>[e(d,{modelValue:t.email,"onUpdate:modelValue":a[2]||(a[2]=l=>t.email=l),label:"New Email"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:s(()=>[e(P,{modelValue:t.languagePreference,"onUpdate:modelValue":a[3]||(a[3]=l=>t.languagePreference=l),label:"New Language Preference",row:""},{default:s(()=>[e(V,{label:"English",value:"English",color:"black"}),e(V,{label:"Spanish",value:"Spanish",color:"black"})]),_:1},8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:s(()=>[L,e(d,{modelValue:t.confirmPassword,"onUpdate:modelValue":a[4]||(a[4]=l=>t.confirmPassword=l),label:"Password",type:"password"},null,8,["modelValue"])]),_:1}),e(k,{onClick:m.handleSubmitForm},{default:s(()=>[y("Submit")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["onSubmit"])]))])}const v=b(U,[["render",F]]);export{v as default};
