import{_ as D,u as c,i as f,a as v,L as g,o as u,c as _,g as e,b as o,w as a,al as w,l,t as x,h as E,I as y,B as k,v as S,M as I,F as V,x as L,q as b,z as T,af as A}from"./index.19bf4f6c.js";import{D as O}from"./datetime.a1e71b77.js";const R={data(){return{experienceData:[],showInactive:!1,selectedExperiences:[],searchQuery:"",hoverId:null}},mounted(){c().startLoading(),this.fetchExperienceData().then(()=>{c().stopLoading()}).catch(()=>{this.handleError(error),c().stopLoading()}),window.scrollTo(0,0),this.$route.params.toastType&&f[this.$route.params.toastType](this.$route.params.toastMessage,{position:this.$route.params.toastPosition,toastClassName:this.$route.params.toastCSS})},methods:{async fetchExperienceData(){try{let s=c().token,d={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+"/instructorSideData/experiences/";const h=await v.get(d,{headers:{token:s}});this.experienceData=h.data}catch(r){throw this.handleError(r),r}},formatDate(r){return O.fromISO(r).toFormat("MM-dd-yyyy")},editExperience(r){this.$router.push({name:"instructorSpecificExperience",params:{id:r}})},toggleShowInactive(){this.showInactive=!this.showInactive},deactivateExperiences(){let s=c().token;const d={experienceStatus:!1},h=this.selectedExperiences.map(t=>{let n={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+`/instructorSideData/experiences/${t}`;return v.put(n,d,{headers:{token:s}})});Promise.all(h).then(()=>{const t=(this.selectedExperiences.length===1?"Experience":"Experiences")+" deactivated!";this.selectedExperiences=[],this.fetchExperienceData(),f.error(t,{position:"top-right",toastClassName:"Toastify__toast--delete"})}).catch(t=>{this.handleError(t)})},activateExperiences(){let s=c().token;const d={experienceStatus:!0},h=this.selectedExperiences.map(t=>{let n={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+`/instructorSideData/experiences/${t}`;return v.put(n,d,{headers:{token:s}})});Promise.all(h).then(()=>{const t=(this.selectedExperiences.length===1?"Experience":"Experiences")+" activated!";this.selectedExperiences=[],this.fetchExperienceData(),f.success(t,{position:"top-right",toastClassName:"Toastify__toast--create"})}).catch(t=>{this.handleError(t)})}},computed:{filteredExperienceData(){const r=this.searchQuery.toLowerCase().trim();return this.showInactive?this.experienceData.filter(s=>!s.experienceStatus&&(s.experienceCategory.toLowerCase().includes(r)||s.experienceName.toLowerCase().includes(r))):this.experienceData.filter(s=>s.experienceStatus&&(s.experienceCategory.toLowerCase().includes(r)||s.experienceName.toLowerCase().includes(r)))},loading(){return c().loading}}},N=e("br",null,null,-1),M=e("br",null,null,-1),P={class:"font-weight-black text-h6"},B=e("br",null,null,-1),U=e("br",null,null,-1),F=e("br",null,null,-1),Q=e("br",null,null,-1),j=e("br",null,null,-1),q=e("br",null,null,-1),z={key:0,justify:"center",align:"center"},G={key:1,style:{display:"flex","justify-content":"center"}},H={style:{"max-height":"400px","overflow-y":"auto"}},J=e("thead",null,[e("tr",null,[e("th",{class:"text-left"}),e("th",{class:"text-left"},"Experience Category"),e("th",{class:"text-left"},"Experience Name"),e("th",{class:"text-left"},"Status"),e("th"),e("th")])],-1),K=["onMouseenter"],W={class:"text-left"},X=["value"],Y=["onClick"],Z=["onClick"],$=["onClick"],ee=e("td",null,null,-1),te=e("td",null,null,-1);function se(r,s,d,h,t,n){const m=g("router-link"),C=g("center");return u(),_("main",null,[e("div",null,[o(C,null,{default:a(()=>[N,e("h2",null,[o(m,{to:"/instructorSemesters"},{default:a(()=>[l("Semesters")]),_:1}),l(" | "),o(m,{to:"/instructorExperiences"},{default:a(()=>[l("Experiences")]),_:1}),l(" | "),o(m,{to:"/instructorActivities"},{default:a(()=>[l("Activities")]),_:1})]),M,e("p",P,x(t.showInactive?"Inactive":"Active")+" Experiences ",1),B,o(E,{style:{"text-align":"center","margin-right":"2rem"}},{default:a(()=>[o(m,{to:"/instructorAddExperience"},{default:a(()=>[l("Add New Experience")]),_:1})]),_:1}),o(E,{onClick:n.toggleShowInactive},{default:a(()=>[l(x(t.showInactive?"Show Active Experiences":"Show Inactive Experiences"),1)]),_:1},8,["onClick"]),U,F,t.selectedExperiences.length>0?(u(),y(E,{key:0,onClick:n.deactivateExperiences,style:{"text-align":"center","margin-right":"2rem"}},{default:a(()=>[l(" Deactivate ")]),_:1},8,["onClick"])):k("",!0),t.selectedExperiences.length>0?(u(),y(E,{key:1,onClick:n.activateExperiences},{default:a(()=>[l(" Activate ")]),_:1},8,["onClick"])):k("",!0),Q,j,o(S,{modelValue:t.searchQuery,"onUpdate:modelValue":s[0]||(s[0]=i=>t.searchQuery=i),label:"Search by experience category or name","solo-inverted":"","hide-details":"",outlined:"",dense:""},null,8,["modelValue"]),q]),_:1})]),n.loading?(u(),_("div",z,[o(I,{indeterminate:""})])):(u(),_("div",G,[e("div",H,[o(w,{style:{width:"100%"}},{default:a(()=>[J,e("tbody",null,[(u(!0),_(V,null,L(n.filteredExperienceData,i=>(u(),_("tr",{key:i._id,style:{cursor:"pointer"},class:b({hoverRow:t.hoverId===i._id}),onMouseenter:p=>t.hoverId=i._id,onMouseleave:s[2]||(s[2]=p=>t.hoverId=null)},[e("td",W,[T(e("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=p=>t.selectedExperiences=p),value:i._id,style:{outline:"2px solid #808080","margin-right":"10px"}},null,8,X),[[A,t.selectedExperiences]])]),e("td",{class:"text-left",onClick:p=>n.editExperience(i._id)},x(i.experienceCategory),9,Y),e("td",{class:"text-left",onClick:p=>n.editExperience(i._id)},x(i.experienceName),9,Z),e("td",{class:"text-left",onClick:p=>n.editExperience(i._id)},x(i.experienceStatus?"Active":"Inactive"),9,$),ee,te],42,K))),128))])]),_:1})])]))])}const ie=D(R,[["render",se]]);export{ie as default};
