import{_,u as n,a as g,o as c,c as f,b as e,w as s,V as p,d as b,e as N,M as w,s as i,v as d,D as P,E as V,h as D,l as E,g as h}from"./index.19bf4f6c.js";const y={data(){return{userData:[],firstName:"",lastName:"",email:"",languagePreference:"",confirmPassword:""}},mounted(){let a=n().token,u={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+"/userdata/user/";try{n().startLoading(),g.get(u,{headers:{token:a}}).then(l=>{this.userData=l.data.user,this.firstName=this.userData.firstName,this.lastName=this.userData.lastName,this.email=this.userData.email,this.languagePreference=this.userData.languagePreference}).catch(l=>{this.handleError(l)}).finally(()=>{n().stopLoading()}),window.scrollTo(0,0)}catch(l){this.handleError("Error:",l),n().stopLoading()}},computed:{loading(){return n().loading}},methods:{async handleSubmitForm(){const r=n();let a=r.token,u={BASE_URL:"/platform/",MODE:"production",DEV:!1,PROD:!0}.VITE_ROOT_API+"/userdata/updateUserData";const l=r.role==="Student"?"studentDashboard":r.role==="Instructor"?"instructorDash":"";g.put(u,{firstName:this.firstName,lastName:this.lastName,email:this.email,languagePreference:this.languagePreference,password:this.confirmPassword},{headers:{token:a}}).then(()=>{r.setLanguagePreference(this.languagePreference),this.$router.push({name:l,params:{toastType:"info",toastMessage:"User Information updated!",toastPosition:"top-right",toastCSS:"Toastify__toast--update"}})}).catch(t=>{this.handleError(t)})}}},U=h("p",{class:"font-weight-black text-h5 text--primary"},"User Information Update Form",-1),S=h("p",{class:"text-subtitle-1"},"Fill out the required details and hit the submit button. Don't worry, you'll be able to edit these detail again.",-1),k={key:0,class:"loading-container"},L={key:1},x=h("p",null,"Please enter your password to confirm your changes:",-1);function R(r,a,u,l,t,m){return c(),f("main",null,[e(p,{style:{width:"90%",margin:"0 auto"}},{default:s(()=>[U,S]),_:1}),m.loading?(c(),f("div",k,[e(w,{indeterminate:""})])):(c(),f("div",L,[e(N,{onSubmit:b(m.handleSubmitForm,["prevent"])},{default:s(()=>[e(p,{style:{width:"90%",margin:"0 auto"}},{default:s(()=>[e(i,{cols:"12",md:"6"},{default:s(()=>[e(d,{modelValue:t.firstName,"onUpdate:modelValue":a[0]||(a[0]=o=>t.firstName=o),label:"New First Name"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:s(()=>[e(d,{modelValue:t.lastName,"onUpdate:modelValue":a[1]||(a[1]=o=>t.lastName=o),label:"New Last Name"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:s(()=>[e(d,{modelValue:t.email,"onUpdate:modelValue":a[2]||(a[2]=o=>t.email=o),label:"New Email"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:s(()=>[e(P,{modelValue:t.languagePreference,"onUpdate:modelValue":a[3]||(a[3]=o=>t.languagePreference=o),label:"New Language Preference",row:""},{default:s(()=>[e(V,{label:"English",value:"English",color:"black"}),e(V,{label:"Spanish",value:"Spanish",color:"black"})]),_:1},8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:s(()=>[x,e(d,{modelValue:t.confirmPassword,"onUpdate:modelValue":a[4]||(a[4]=o=>t.confirmPassword=o),label:"Password",type:"password"},null,8,["modelValue"])]),_:1}),e(D,{onClick:m.handleSubmitForm},{default:s(()=>[E("Submit")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["onSubmit"])]))])}const F=_(y,[["render",R]]);export{F as default};
