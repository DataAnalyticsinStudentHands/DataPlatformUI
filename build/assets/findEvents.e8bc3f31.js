import{D as _}from"./datetime.a1e71b77.js";import{_ as y,u as c,a as u,o as r,c as i,g as e,z as h,ab as p,X as v,ad as g,B as f,F as x,x as b,t as m}from"./index.b63c9539.js";const D={data(){return{queryData:[],searchBy:"",eventName:"",eventDate:""}},mounted(){let t=c().token,d="https://node13835-1529618full3.us.reclaim.cloud/backend/eventdata/";this.queryData=[],u.get(d,{headers:{token:t}}).then(l=>{this.queryData=l.data},l=>{l&&this.$router.push("/login")}),window.scrollTo(0,0)},methods:{formattedDate(n){return _.fromISO(n).plus({days:1}).toLocaleString()},handleSubmitForm(){let t=c().token,d="";this.searchBy==="Event Name"?d=`https://node13835-1529618full3.us.reclaim.cloud/backend/eventdata/search/?eventName=${this.eventName}&searchBy=name`:this.searchBy==="Event Date"&&(d=`https://node13835-1529618full3.us.reclaim.cloud/backend/eventdata/search/?eventDate=${this.eventDate}&searchBy=date`),u.get(d,{headers:{token:t}}).then(l=>{this.queryData=l.data})},clearSearch(){let t=c().token;this.searchBy="",this.eventName="",this.eventDate="";let d="https://node13835-1529618full3.us.reclaim.cloud/backend/eventdata/";this.queryData=[],u.get(d,{headers:{token:t}}).then(l=>{this.queryData=l.data})},editEvent(n){this.$router.push({name:"eventdetails",params:{id:n}})}}},k=e("div",null,[e("h1",{class:"font-bold text-4xl text-red-700 tracking-widest text-center mt-10"}," List of Events ")],-1),E={class:"px-10 pt-20"},S={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},w=e("h2",{class:"text-2xl font-bold"},"Search Event By",-1),B={class:"flex flex-col"},N=e("option",{value:"Event Name"},"Event Name",-1),F=e("option",{value:"Event Date"},"Event Date",-1),L=[N,F],q={key:0,class:"flex flex-col"},C={class:"block"},U={key:1,class:"flex flex-col"},V={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},K=e("div",null,null,-1),R=e("div",null,null,-1),T={class:"mt-5 grid-cols-2"},I=e("hr",{class:"mt-10 mb-10"},null,-1),M={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},z=e("div",{class:"ml-10"},[e("h2",{class:"text-2xl font-bold"},"List of Events"),e("h3",{class:"italic"},"Click table row to edit/display an entry")],-1),A={class:"flex flex-col col-span-2"},O={class:"min-w-full shadow-md rounded"},X=e("thead",{class:"bg-gray-50 text-xl"},[e("tr",null,[e("th",{class:"p-4 text-left"},"Event Name"),e("th",{class:"p-4 text-left"},"Event Date"),e("th",{class:"p-4 text-left"},"Event Address")])],-1),j={class:"divide-y divide-gray-300"},G=["onClick"],H={class:"p-2 text-left"},J={class:"p-2 text-left"},P={class:"p-2 text-left"};function Q(n,t,d,l,o,a){return r(),i("main",null,[k,e("div",E,[e("div",S,[w,e("div",B,[h(e("select",{class:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[0]||(t[0]=s=>o.searchBy=s)},L,512),[[p,o.searchBy]])]),o.searchBy==="Event Name"?(r(),i("div",q,[e("label",C,[h(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[1]||(t[1]=s=>o.eventName=s),onKeyup:t[2]||(t[2]=g((...s)=>a.handleSubmitForm&&a.handleSubmitForm(...s),["enter"])),placeholder:"Enter event name"},null,544),[[v,o.eventName]])])])):f("",!0),o.searchBy==="Event Date"?(r(),i("div",U,[h(e("input",{class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",type:"date","onUpdate:modelValue":t[3]||(t[3]=s=>o.eventDate=s),onKeyup:t[4]||(t[4]=g((...s)=>a.handleSubmitForm&&a.handleSubmitForm(...s),["enter"]))},null,544),[[v,o.eventDate]])])):f("",!0)]),e("div",V,[K,R,e("div",T,[e("button",{class:"mr-10 border border-red-700 bg-white text-red-700 rounded",onClick:t[5]||(t[5]=(...s)=>a.clearSearch&&a.clearSearch(...s)),type:"submit"}," Clear Search "),e("button",{class:"bg-red-700 text-white rounded",onClick:t[6]||(t[6]=(...s)=>a.handleSubmitForm&&a.handleSubmitForm(...s)),type:"submit"}," Search Event ")])])]),I,e("div",M,[z,e("div",A,[e("table",O,[X,e("tbody",j,[(r(!0),i(x,null,b(o.queryData,s=>(r(),i("tr",{onClick:W=>a.editEvent(s._id),key:s._id},[e("td",H,m(s.eventName),1),e("td",J,m(a.formattedDate(s.date)),1),e("td",P,m(s.address.line1),1)],8,G))),128))])])])])])}const $=y(D,[["render",Q]]);export{$ as default};
